---
title: "Account Management"
description: "Manage user account information, profile settings, and account preferences through AudioPod AI's Account API."
---

## Overview

The AudioPod AI Account Management API provides endpoints for managing user profiles, account settings, and personal information. This API allows you to update user details, manage phone verification, and handle account preferences programmatically.

### Key Features

- **Profile Management**: Update name, contact information, and preferences
- **Phone Verification**: Add and verify phone numbers for enhanced security
- **Account Settings**: Manage account type, usage preferences, and onboarding status
- **Provider Linking**: Connect and manage OAuth provider accounts
- **Account Information**: Retrieve current user data and account status

## Authentication

All endpoints require authentication:
- **API Key**: `Authorization: Bearer your_api_key`
- **JWT Token**: `Authorization: Bearer your_jwt_token`

## Get Account Information

### Current User Profile

Get detailed information about the authenticated user account.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/auth/me
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    import requests
    
    response = requests.get(
        "https://api.audiopod.ai/api/v1/auth/me",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        user_data = response.json()
        print(f"User ID: {user_data['id']}")
        print(f"Email: {user_data['email']}")
        print(f"Name: {user_data['full_name']}")
        print(f"Account Type: {user_data['user_type']}")
        print(f"Credits Available: {user_data['credits']['total_available_credits']}")
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X GET "https://api.audiopod.ai/api/v1/auth/me" \
      -H "Authorization: Bearer your_api_key"
    ```
  </Tab>
</Tabs>

**Response:**

```json
{
  "id": "550e8400-e29b-41d4-a716-446655440000",
  "email": "user@example.com",
  "full_name": "John Doe",
  "is_active": true,
  "is_superuser": false,
  "is_verified": true,
  "created_at": "2024-01-15T10:30:00Z",
  "updated_at": "2024-01-20T14:22:00Z",
  "image": "https://api.audiopod.ai/avatars/user_550e8400.jpg",
  "user_type": "individual",
  "audio_usage": "creator",
  "onboarding_completed": true,
  "referral_source": "google_search",
  "phone_number": "+1234567890",
  "country_code": "US",
  "phone_verified": true,
  "credits": {
    "credits_balance": 1500,
    "payg_balance": 750,
    "total_available_credits": 2250,
    "last_reset_at": "2024-01-01T00:00:00Z",
    "total_credits_used": 3250,
    "next_reset_date": "2024-02-01T00:00:00Z",
    "credits_per_month": 2000
  }
}
```

## Update Account Information

### Update User Profile

Modify user profile information and preferences.

<Tabs>
  <Tab title="PATCH">
    ```http
    PATCH /api/v1/auth/me
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "full_name": "John Smith",
      "user_type": "company",
      "audio_usage": "business",
      "referral_source": "word_of_mouth",
      "phone_number": "+1987654321",
      "country_code": "US"
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.patch(
        "https://api.audiopod.ai/api/v1/auth/me",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "full_name": "John Smith",
            "user_type": "company",
            "audio_usage": "business",
            "referral_source": "word_of_mouth",
            "phone_number": "+1987654321",
            "country_code": "US"
        }
    )
    
    if response.status_code == 200:
        updated_user = response.json()
        print("Profile updated successfully")
        print(f"New name: {updated_user['full_name']}")
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X PATCH "https://api.audiopod.ai/api/v1/auth/me" \
      -H "Authorization: Bearer your_api_key" \
      -H "Content-Type: application/json" \
      -d '{
        "full_name": "John Smith",
        "user_type": "company",
        "audio_usage": "business"
      }'
    ```
  </Tab>
</Tabs>

**Available User Types:**
- `individual` - Personal use
- `company` - Business use

**Available Audio Usage Types:**
- `personal` - Personal projects
- `creator` - Content creation
- `business` - Business applications
- `voice_actor` - Professional voice work
- `education` - Educational content
- `engineer` - Technical applications
- `marketer` - Marketing content
- `other` - Other use cases

## Phone Verification

### Send Phone Verification

Send OTP code to phone number for verification.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/send-phone-verification
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "phone_number": "+1234567890",
      "country_code": "US"
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/send-phone-verification",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "phone_number": "+1234567890",
            "country_code": "US"
        }
    )
    
    if response.status_code == 200:
        verification_data = response.json()
        print(f"OTP sent! Expires in {verification_data['expires_in_minutes']} minutes")
    ```
  </Tab>
</Tabs>

**Response:**

```json
{
  "message": "Verification code sent successfully",
  "expires_in_minutes": 10
}
```

### Verify Phone Number

Confirm phone number with OTP code.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/verify-phone
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "phone_number": "+1234567890",
      "otp_code": "123456"
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/verify-phone",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "phone_number": "+1234567890",
            "otp_code": "123456"  # Code from SMS
        }
    )
    
    if response.status_code == 200:
        verification_result = response.json()
        if verification_result["verified"]:
            print("Phone number verified successfully!")
    ```
  </Tab>
</Tabs>

**Response:**

```json
{
  "verified": true,
  "message": "Phone number verified successfully"
}
```

## Password Management

### Change Password

Update account password with current password verification.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/change-password
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "current_password": "current_secure_password",
      "new_password": "new_secure_password_123"
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/change-password",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "current_password": "current_secure_password",
            "new_password": "new_secure_password_123"
        }
    )
    
    if response.status_code == 200:
        print("Password changed successfully")
    ```
  </Tab>
</Tabs>

**Password Requirements:**
- Minimum 8 characters
- At least one uppercase letter
- At least one lowercase letter
- At least one number
- At least one special character

## OAuth Provider Management

### Link OAuth Provider

Connect external OAuth provider accounts (Google, GitHub).

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/account-providers
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "provider": "google",
      "provider_account_id": "google_user_id_123",
      "type": "oauth",
      "access_token": "google_access_token",
      "refresh_token": "google_refresh_token",
      "expires_at": 1640995200,
      "scope": "email profile"
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/account-providers",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "provider": "google",
            "provider_account_id": "google_user_id_123",
            "type": "oauth",
            "access_token": "google_access_token",
            "refresh_token": "google_refresh_token",
            "expires_at": 1640995200,
            "scope": "email profile"
        }
    )
    
    if response.status_code == 200:
        provider_data = response.json()
        print(f"Linked {provider_data['provider']} account")
    ```
  </Tab>
</Tabs>

### List Connected Providers

Get all connected OAuth provider accounts.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/auth/account-providers
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.get(
        "https://api.audiopod.ai/api/v1/auth/account-providers",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        providers = response.json()
        for provider in providers:
            print(f"Connected: {provider['provider']} - {provider['provider_account_id']}")
    ```
  </Tab>
</Tabs>

### Unlink OAuth Provider

Remove connection to an OAuth provider.

<Tabs>
  <Tab title="DELETE">
    ```http
    DELETE /api/v1/auth/account-providers/{provider}
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.delete(
        f"https://api.audiopod.ai/api/v1/auth/account-providers/google",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        print("Provider unlinked successfully")
    ```
  </Tab>
</Tabs>

## Session Management

### Get Active Sessions

List all active user sessions across devices.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/auth/sessions
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.get(
        "https://api.audiopod.ai/api/v1/auth/sessions",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        sessions = response.json()
        for session in sessions:
            print(f"Session: {session['session_id']}")
            print(f"Device: {session['device_info']}")
            print(f"IP: {session['ip_address']}")
            print(f"Last Active: {session['last_active']}")
            print(f"Current: {session['is_current']}")
            print("---")
    ```
  </Tab>
</Tabs>

**Response:**

```json
[
  {
    "session_id": "sess_abc123def456",
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "device_info": "Chrome 120.0 on macOS",
    "ip_address": "192.168.1.100",
    "user_agent": "Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7)...",
    "created_at": "2024-01-20T10:30:00Z",
    "last_active": "2024-01-20T14:22:00Z",
    "expires_at": "2024-02-20T10:30:00Z",
    "is_current": true
  },
  {
    "session_id": "sess_def456ghi789",
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "device_info": "Safari 17.0 on iOS",
    "ip_address": "192.168.1.105",
    "user_agent": "Mozilla/5.0 (iPhone; CPU iPhone OS 17_0...)...",
    "created_at": "2024-01-19T08:15:00Z",
    "last_active": "2024-01-19T18:45:00Z",
    "expires_at": "2024-02-19T08:15:00Z",
    "is_current": false
  }
]
```

### Revoke Sessions

Revoke specific sessions or all other sessions.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/sessions/revoke
    Authorization: Bearer {api_key}
    Content-Type: application/json
    
    {
      "session_id": "sess_def456ghi789",
      "revoke_all_others": false
    }
    ```
  </Tab>
  <Tab title="Python">
    ```python
    # Revoke specific session
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/sessions/revoke",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "session_id": "sess_def456ghi789",
            "revoke_all_others": False
        }
    )
    
    # Revoke all other sessions (keep current)
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/sessions/revoke",
        headers={"Authorization": f"Bearer {api_key}"},
        json={
            "session_id": "current",
            "revoke_all_others": True
        }
    )
    ```
  </Tab>
</Tabs>

### Update Device Information

Update device information for current session.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/auth/sessions/update-device-info
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/auth/sessions/update-device-info",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        print("Device information updated")
    ```
  </Tab>
</Tabs>

## Account Validation

### Validate Session

Check if current session is valid and get session information.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/auth/session/validate
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.get(
        "https://api.audiopod.ai/api/v1/auth/session/validate",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        session_info = response.json()
        if session_info["is_valid"]:
            print("Session is valid")
            print(f"Expires in: {session_info['expires_in']} seconds")
            if session_info["needs_refresh"]:
                print("Token should be refreshed soon")
    ```
  </Tab>
</Tabs>

**Response:**

```json
{
  "is_valid": true,
  "session_info": {
    "session_id": "sess_abc123def456",
    "user_id": "550e8400-e29b-41d4-a716-446655440000",
    "device_info": "Chrome 120.0 on macOS",
    "created_at": "2024-01-20T10:30:00Z",
    "last_active": "2024-01-20T14:22:00Z",
    "expires_at": "2024-02-20T10:30:00Z",
    "is_current": true
  },
  "user": {
    "id": "550e8400-e29b-41d4-a716-446655440000",
    "email": "user@example.com",
    "full_name": "John Doe",
    "is_verified": true
  },
  "expires_in": 2592000,
  "needs_refresh": false
}
```

## Integration Examples

### Account Health Check

```python
class AccountManager:
    def __init__(self, api_key):
        self.api_key = api_key
        self.base_url = "https://api.audiopod.ai/api/v1"
        self.headers = {"Authorization": f"Bearer {api_key}"}
    
    def get_account_health(self):
        """Get comprehensive account status"""
        try:
            # Validate session
            session_response = requests.get(
                f"{self.base_url}/auth/session/validate",
                headers=self.headers
            )
            
            if session_response.status_code != 200:
                return {"status": "invalid_session", "healthy": False}
            
            session_data = session_response.json()
            
            # Get user profile
            profile_response = requests.get(
                f"{self.base_url}/auth/me",
                headers=self.headers
            )
            
            if profile_response.status_code != 200:
                return {"status": "profile_error", "healthy": False}
            
            user_data = profile_response.json()
            
            # Check account completeness
            completeness_score = self._calculate_completeness(user_data)
            
            # Check credit balance
            credits = user_data.get('credits', {})
            low_credits = credits.get('total_available_credits', 0) < 100
            
            return {
                "status": "healthy",
                "healthy": True,
                "session_valid": session_data["is_valid"],
                "needs_refresh": session_data.get("needs_refresh", False),
                "account_verified": user_data["is_verified"],
                "phone_verified": user_data.get("phone_verified", False),
                "onboarding_complete": user_data.get("onboarding_completed", False),
                "completeness_score": completeness_score,
                "low_credits_warning": low_credits,
                "credits_available": credits.get('total_available_credits', 0)
            }
        
        except Exception as e:
            return {"status": "error", "healthy": False, "error": str(e)}
    
    def _calculate_completeness(self, user_data):
        """Calculate profile completeness score"""
        fields_to_check = [
            'full_name', 'user_type', 'audio_usage', 
            'phone_number', 'phone_verified'
        ]
        
        completed_fields = 0
        for field in fields_to_check:
            if field in user_data and user_data[field]:
                completed_fields += 1
        
        return (completed_fields / len(fields_to_check)) * 100
    
    def ensure_phone_verified(self, phone_number, country_code="US"):
        """Ensure phone number is verified"""
        try:
            # Send verification code
            verify_response = requests.post(
                f"{self.base_url}/auth/send-phone-verification",
                headers=self.headers,
                json={
                    "phone_number": phone_number,
                    "country_code": country_code
                }
            )
            
            if verify_response.status_code == 200:
                return {
                    "verification_sent": True,
                    "message": "Verification code sent to phone"
                }
            else:
                return {
                    "verification_sent": False,
                    "error": verify_response.json()
                }
        
        except Exception as e:
            return {"verification_sent": False, "error": str(e)}

# Usage example
account_manager = AccountManager("your_api_key")
health_status = account_manager.get_account_health()

if health_status["healthy"]:
    print("Account is healthy")
    if health_status["low_credits_warning"]:
        print("Warning: Low credit balance")
    if not health_status["phone_verified"]:
        print("Consider verifying phone number for enhanced security")
else:
    print(f"Account issue: {health_status['status']}")
```

## Error Handling

<AccordionGroup>
  <Accordion title="400 Bad Request - Invalid Phone Number">
    **Causes:** - Invalid phone number format - Unsupported country code 
    **Solutions:** - Use international format (+1234567890) - Check supported country codes - 
    Verify phone number is valid
  </Accordion>

  <Accordion title="401 Unauthorized - Invalid Session">
    **Causes:** - Token expired - Invalid API key - Session revoked 
    **Solutions:** - Refresh access token - Check API key is correct - 
    Re-authenticate if session expired
  </Accordion>

  <Accordion title="409 Conflict - Provider Already Linked">
    **Causes:** - OAuth provider already connected - Email conflict with existing account 
    **Solutions:** - Unlink existing provider first - Use different email address
  </Accordion>

  <Accordion title="422 Validation Error">
    **Causes:** - Invalid user type - Password doesn't meet requirements - Invalid field values 
    **Solutions:** - Check allowed values for enums - Verify password requirements - 
    Validate input data format
  </Accordion>
</AccordionGroup>

## Best Practices

### Security Recommendations

```python
# Secure account management practices
security_checklist = {
    "password_policy": {
        "min_length": 8,
        "require_uppercase": True,
        "require_lowercase": True,
        "require_numbers": True,
        "require_special_chars": True,
        "change_frequency": "every_6_months"
    },
    "session_management": {
        "review_sessions_regularly": True,
        "revoke_unused_sessions": True,
        "monitor_login_locations": True,
        "enable_notifications": True
    },
    "phone_verification": {
        "verify_phone_number": True,
        "use_for_2fa": True,
        "keep_updated": True
    },
    "oauth_providers": {
        "link_trusted_providers": True,
        "review_permissions": True,
        "unlink_unused_providers": True
    }
}
```

### Profile Completion

```python
def ensure_complete_profile(api_key):
    """Ensure user profile is complete for best experience"""
    
    account_manager = AccountManager(api_key)
    
    # Get current profile
    profile_response = requests.get(
        "https://api.audiopod.ai/api/v1/auth/me",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    user_data = profile_response.json()
    
    # Check missing fields
    recommendations = []
    
    if not user_data.get('user_type'):
        recommendations.append("Set account type (individual/company)")
    
    if not user_data.get('audio_usage'):
        recommendations.append("Specify primary audio usage")
    
    if not user_data.get('phone_verified'):
        recommendations.append("Verify phone number for security")
    
    if not user_data.get('full_name'):
        recommendations.append("Add full name to profile")
    
    return {
        "complete": len(recommendations) == 0,
        "recommendations": recommendations,
        "completeness_score": account_manager._calculate_completeness(user_data)
    }
```

## Next Steps

<Columns cols={2}>
  <Card title="API Keys" icon="key" href="/api-reference/authentication">
    Learn about API key management and authentication.
  </Card>
  <Card title="Account Registration" icon="user-plus" href="/account/registration">
    Learn about account setup and initial configuration.
  </Card>
</Columns>