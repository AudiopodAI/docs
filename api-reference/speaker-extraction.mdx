---
title: "Speaker Extraction API"
description: "Automatically identify, separate, and extract individual speakers from audio recordings using advanced AI-powered speaker diarization technology."
---

## Overview

AudioPod AI's Speaker Extraction API uses advanced speaker diarization technology to automatically identify and separate multiple speakers in audio recordings. Extract individual speaker tracks, get detailed speaker analytics, and generate timeline data for multi-speaker content.

### Key Features

- **Speaker Diarization**: Automatically identify who speaks when
- **Speaker Extraction**: Generate separate audio files for each speaker
- **Timeline Generation**: Get detailed speaker timeline with timestamps
- **Speaker Analytics**: Duration, confidence scores, and speaker statistics
- **Multi-Format Support**: Process audio and video files
- **URL Processing**: Extract speakers from YouTube and other platforms
- **Configurable Detection**: Specify number of speakers or auto-detect

## Authentication

All endpoints require authentication:
- **API Key**: `Authorization: Bearer your_api_key`
- **JWT Token**: `Authorization: Bearer your_jwt_token`

## Speaker Diarization

### Identify Speakers in Audio

Analyze audio to identify who speaks when without extracting separate files.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/speaker/diarize
    Authorization: Bearer {api_key}
    Content-Type: multipart/form-data
    
    file: (audio file)
    num_speakers: 3
    ```
  </Tab>
  <Tab title="Python">
    ```python
    import requests
    
    with open("meeting_recording.wav", "rb") as audio_file:
        response = requests.post(
            "https://api.audiopod.ai/api/v1/speaker/diarize",
            headers={"Authorization": f"Bearer {api_key}"},
            data={"num_speakers": 3},  # Optional: specify expected speakers
            files={"file": audio_file}
        )
    
    if response.status_code == 200:
        job_data = response.json()
        job_id = job_data["id"]
        print(f"Diarization job created: {job_id}")
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST "https://api.audiopod.ai/api/v1/speaker/diarize" \
      -H "Authorization: Bearer your_api_key" \
      -F "file=@meeting_recording.wav" \
      -F "num_speakers=3"
    ```
  </Tab>
</Tabs>

### Diarize from URL

Analyze speakers in audio/video from URLs (YouTube, etc.).

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/speaker/diarize
    Authorization: Bearer {api_key}
    Content-Type: application/x-www-form-urlencoded
    
    url=https://youtube.com/watch?v=example123&num_speakers=2
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        "https://api.audiopod.ai/api/v1/speaker/diarize",
        headers={"Authorization": f"Bearer {api_key}"},
        data={
            "url": "https://youtube.com/watch?v=example123",
            "num_speakers": 2  # Optional
        }
    )
    
    if response.status_code == 200:
        job_data = response.json()
        print(f"URL diarization started: {job_data['id']}")
    ```
  </Tab>
</Tabs>

**Response:**

```json
{
  "id": 123,
  "job_type": "diarization",
  "status": "PROCESSING",
  "progress": 0,
  "created_at": "2024-01-15T10:30:00Z",
  "user_id": "550e8400-e29b-41d4-a716-446655440000",
  "task_id": "celery_task_uuid_here",
  "filename": "meeting_recording.wav"
}
```

## Speaker Extraction

### Extract Individual Speaker Tracks

Generate separate audio files for each identified speaker.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/speaker/extract
    Authorization: Bearer {api_key}
    Content-Type: multipart/form-data
    
    file: (audio file)
    num_speakers: 4
    ```
  </Tab>
  <Tab title="Python">
    ```python
    with open("podcast_episode.mp3", "rb") as audio_file:
        response = requests.post(
            "https://api.audiopod.ai/api/v1/speaker/extract",
            headers={"Authorization": f"Bearer {api_key}"},
            data={"num_speakers": 4},  # Host + 3 guests
            files={"file": audio_file}
        )
    
    if response.status_code == 200:
        extraction_job = response.json()
        job_id = extraction_job["id"]
        print(f"Speaker extraction job: {job_id}")
    ```
  </Tab>
</Tabs>

## Job Management

### Get Job Status

Monitor the progress of speaker processing jobs.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/speaker/jobs/{job_id}
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.get(
        f"https://api.audiopod.ai/api/v1/speaker/jobs/{job_id}",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        job_status = response.json()
        print(f"Status: {job_status['status']}")
        print(f"Progress: {job_status['progress']}%")
        
        if job_status["status"] == "COMPLETED":
            print("Processing complete!")
            if job_status["result"]:
                result = job_status["result"]
                print(f"Found {result['num_speakers']} speakers")
    ```
  </Tab>
</Tabs>

**Response (Completed Diarization):**

```json
{
  "id": 123,
  "job_type": "diarization",
  "status": "COMPLETED",
  "progress": 100,
  "created_at": "2024-01-15T10:30:00Z",
  "completed_at": "2024-01-15T10:35:30Z",
  "user_id": "550e8400-e29b-41d4-a716-446655440000",
  "filename": "meeting_recording.wav",
  "result": {
    "num_speakers": 3,
    "speakers": [
      {
        "label": "SPEAKER_00",
        "total_speaking_time": 245.7
      },
      {
        "label": "SPEAKER_01", 
        "total_speaking_time": 189.3
      },
      {
        "label": "SPEAKER_02",
        "total_speaking_time": 156.8
      }
    ],
    "timeline": [
      {
        "start": 0.0,
        "end": 12.5,
        "speaker": "SPEAKER_00"
      },
      {
        "start": 12.5,
        "end": 28.9,
        "speaker": "SPEAKER_01"
      }
    ],
    "rttm_path": "/results/job_123_speakers.rttm"
  }
}
```

### List Speaker Jobs

Get all speaker processing jobs for the authenticated user.

<Tabs>
  <Tab title="GET">
    ```http
    GET /api/v1/speaker/jobs?job_type=extraction&status=COMPLETED&limit=50
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.get(
        "https://api.audiopod.ai/api/v1/speaker/jobs",
        headers={"Authorization": f"Bearer {api_key}"},
        params={
            "job_type": "extraction",  # or "diarization"
            "status": "COMPLETED",     # Optional filter
            "skip": 0,
            "limit": 50
        }
    )
    
    if response.status_code == 200:
        jobs_data = response.json()
        for job in jobs_data["items"]:
            print(f"Job {job['id']}: {job['status']} - {job['filename']}")
    ```
  </Tab>
</Tabs>

### Retry Failed Job

Retry a failed speaker processing job.

<Tabs>
  <Tab title="POST">
    ```http
    POST /api/v1/speaker/jobs/{job_id}/retry
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.post(
        f"https://api.audiopod.ai/api/v1/speaker/jobs/{job_id}/retry",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 200:
        retried_job = response.json()
        print(f"Job {retried_job['id']} retried successfully")
    ```
  </Tab>
</Tabs>

### Delete Job

Remove a speaker processing job and its results.

<Tabs>
  <Tab title="DELETE">
    ```http
    DELETE /api/v1/speaker/jobs/{job_id}
    Authorization: Bearer {api_key}
    ```
  </Tab>
  <Tab title="Python">
    ```python
    response = requests.delete(
        f"https://api.audiopod.ai/api/v1/speaker/jobs/{job_id}",
        headers={"Authorization": f"Bearer {api_key}"}
    )
    
    if response.status_code == 204:
        print("Job deleted successfully")
    ```
  </Tab>
</Tabs>

## Error Handling

<AccordionGroup>
  <Accordion title="400 Bad Request - Invalid Audio">
    **Causes:** - Audio file has no speech content - File format not supported - Audio too short for analysis
    **Solutions:** - Verify audio contains clear speech - Use supported formats (WAV, MP3, M4A) - Ensure minimum 30 seconds duration
  </Accordion>

  <Accordion title="422 Processing Error - Speaker Detection Failed">
    **Causes:** - Audio quality too poor - Speakers not distinguishable - Background noise too high
    **Solutions:** - Improve audio quality with noise reduction - Try automatic speaker detection - Use diarization before extraction
  </Accordion>

  <Accordion title="402 Payment Required - Insufficient Credits">
    **Causes:** - Not enough credits for processing duration
    **Solutions:** - Purchase additional credits - Check credit requirements before processing
  </Accordion>
</AccordionGroup>

## Pricing

Speaker processing costs are based on audio duration:

| Service | Cost | Description |
|---------|------|-------------|
| Speaker Diarization | 8 credits/minute | Identify when each speaker talks |
| Speaker Extraction | 8 credits/minute | Generate separate audio files |

### Cost Examples

| Duration | Service | Credits | USD Cost |
|----------|---------|---------|----------|
| 10 minutes | Diarization | 80 | $0.08 |
| 30 minutes | Extraction | 240 | $0.24 |
| 1 hour | Both services | 960 | $0.96 |

## Next Steps

<Columns cols={2}>
  <Card title="Speech-to-Text" icon="waveform" href="/api-reference/speech-to-text">
    Use speaker information to improve transcription accuracy.
  </Card>
  <Card title="Voice Cloning" icon="user-clone" href="/api-reference/voice-cloning">
    Create custom voices from extracted speaker audio.
  </Card>
  <Card title="Noise Reduction" icon="volume-x" href="/api-reference/noise-reduction">
    Clean audio before speaker processing for better results.
  </Card>
  <Card title="Media Extraction" icon="download" href="/api-reference/media-extraction">
    Extract audio from videos for speaker analysis.
  </Card>
</Columns>